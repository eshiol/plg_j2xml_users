function CSVToArray(r,e){e=e||",",r=r.trim();for(var n=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),a=[[]],g=null;g=n.exec(r);){var l=g[1];if(l.length&&l!=e&&a.push([]),g[2])var p=g[2].replace(new RegExp('""',"g"),'"');else var p=g[3];a[a.length-1].push(p)}return a}