console=window.console=window.console||{},["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"].forEach(function(e){console[e]||(console[e]=function(){})}),"undefined"==typeof eshiol&&(eshiol={}),void 0===eshiol.j2xml&&(eshiol.j2xml={}),void 0===eshiol.j2xml.convert&&(eshiol.j2xml.convert=[]),eshiol.j2xml.users={},eshiol.j2xml.users.version="3.7.7",eshiol.j2xml.users.requires="18.8.308",console.log("J2XML - Users v"+eshiol.j2xml.users.version),eshiol.j2xml.convert.push(function(e){if(console.log("eshiol.j2xml.convert.users"),versionCompare(eshiol.j2xml.version,eshiol.j2xml.users.requires)<0)return eshiol.renderMessages({error:["J2XML - Users v"+eshiol.j2xml.users.version+" requires J2XML v3.7.181"]}),!1;console.log(e);var s=CSVToArray(e,","),o=s[0];console.log(o);for(var l=[],n=0;n<o.length;n++)console.log("header["+n+"]: "+o[n]),l[o[n]]=n;if(console.log("cols['username']: "+l.username),console.log("cols['name']: "+l.name),console.log("cols['email']: "+l.email),null==l.username||null==l.name||null==l.email)return console.log("invalid CSV file"),e;e="";for(n=1;n<s.length;n++){console.log(s[n]);var r="";r+="\t<user>\n",r+="\t\t<id>0</id>\n",r+="\t\t<name><![CDATA["+s[n][l.name]+"]]></name>\n",r+="\t\t<username><![CDATA["+s[n][l.username]+"]]></username>\n",r+="\t\t<email><![CDATA["+s[n][l.email]+"]]></email>\n",null!=l.password&&null!=s[n][l.password]?r+="\t\t<password><![CDATA["+s[n][l.password]+"]]></password>\n":null!=l.password_clear&&null!=s[n][l.password_clear]?r+="\t\t<password_clear><![CDATA["+s[n][l.password_clear]+"]]></password_clear>\n":(password_clear=Math.random().toString(36).slice(-8),r+="\t\t<password_clear><![CDATA["+password_clear+"]]></password_clear>\n"),r+="\t\t<block>0</block>\n",r+="\t\t<sendEmail>0</sendEmail>\n",r+="\t\t<registerDate><![CDATA["+(new Date).toString()+"]]></registerDate>\n",r+="\t\t<lastvisitDate><![CDATA[0000-00-00 00:00:00]]></lastvisitDate>\n",r+="\t\t<activation/>\n",r+='\t\t<params><![CDATA[{"admin_style":"","admin_language":"","language":"","editor":"","helpsite":"","timezone":""}]]></params>\n',r+="\t\t<lastResetTime><![CDATA[0000-00-00 00:00:00]]></lastResetTime>\n",r+="\t\t<resetCount>0</resetCount>\n",r+="\t\t<otpKey/>\n",r+="\t\t<otep/>\n",null!=l.groups&&null!=s[n][l.groups]?(r+="\t\t<grouplist>\n",JSON.parse(s[n][l.groups]).forEach(function(e){r+='\t\t\t<group><![CDATA[["'+e.join('","')+'"]]]></group>\n'}),r+="\t\t</grouplist>\n"):r+='\t\t<group><![CDATA[["Public","Registered"]]]></group>',null!=l.fields&&null!=s[n][l.fields]&&(r+="\t\t<fieldlist>\n",fields=JSON.parse(s[n][l.fields]),Object.keys(fields).forEach(function(e){r+="\t\t\t<field><"+e+"><![CDATA["+fields[e]+"]]></"+e+"></field>\n"}),r+="\t\t</fieldlist>\n"),r+="\t</user>\n",console.log(r),e+=r}return'<?xml version="1.0" encoding="UTF-8"?>\n<j2xml version="17.7.0">\n'+e+"</j2xml>"});